{
  "name": "TwillioSMS",
  "version": "1.0.7",
  "type": "actuator",
  "script": "var TWILIO_ACCOUNT_SID = options.globalSettings.TWILIO_ACCOUNT_SID;\nvar TWILIO_AUTH_TOKEN = options.globalSettings.TWILIO_AUTH_TOKEN;\nvar message = waylayUtil.template(options, options.requiredProperties.message);\nvar to =  waylayUtil.evaluateData(options, options.requiredProperties.to);\n//var from = options.requiredProperties.from;\nvar from =  options.globalSettings.FROM_PHONE ||\"+32460200035\";\n\n\nif(TWILIO_ACCOUNT_SID === undefined || message === undefined ||\n    TWILIO_AUTH_TOKEN === undefined || to === undefined) {\n        send(new Error(\"Error missing properties\"));\n    }\nelse {\n    logger.info('options' + options.requiredProperties);\n    var client = new twilio.RestClient(TWILIO_ACCOUNT_SID, TWILIO_AUTH_TOKEN);\n\n    client.sms.messages.create({\n        to: to,\n        from: from,\n        body: message\n    }, function(error, message) {\n        if (!error) {\n            logger.info('Success! The SID for this SMS message is:');\n            logger.info(message.sid);\n            logger.info('Message sent on:');\n            logger.info(message.dateCreated);\n            send();\n        } else {\n            send(new Error(\"There was an error.\" + JSON.stringify(error)));\n        }\n    });\n}",
  "metadata": {
    "author": "",
    "category": "Twilio",
    "description": "Twilio SMS\n\nYou need to get access keys from Twillio and provide them in global settings.\n\nInput parameters are:\n<ul>\n<li>to</li>\n<li>message</li>\n</ul>\n\nMessage will be parsed using waylayUtil.template function.\n",
    "documentationURL": "https://www.twilio.com/blog/2013/03/introducing-the-twilio-module-for-node-js.html",
    "iconURL": "https://raw.githubusercontent.com/waylayio/documentation/master/icons/twillio.png",
    "supportedStates": [],
    "requiredProperties": [
      "message",
      "to"
    ],
    "requiredRawData": []
  }
}
