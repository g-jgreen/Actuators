{"name":"waylayWebscript","version":"0.0.3","type":"actuator","script":"const url = waylayUtil.getProperty(options, \"url\") \nvar json = waylayUtil.getProperty(options, \"json\")\nconst signature = waylayUtil.getProperty(options, \"signature\")\n\nif(!_.isString(json)) {\n    json = JSON.stringify(json)             \n}\njson = JSON.parse(waylayUtil.template(options, json))\n\nvar requestOptions = {\n      url: url,\n      body: json,\n      json: true\n}\nif(signature) {\n    requestOptions.headers = {\n        \"Authorization\" : \"hmac-sha256 \" + signature\n    }\n}\nrequestP.post(requestOptions).then(response =>{\n    //console.log(response)\n    send()\n}).catch(err=>{\n    send(new Error(err))\n})","metadata":{"author":"Veselin Pizurica","category":"waylay","description":"waylayWebscript actuator","iconURL":"https://static.waylay.io/plugs/icons/Cloud-Functions.png","supportedStates":[],"requiredProperties":["json","url","signature"],"requiredRawData":[]}}
